<div class="dashboard-container">
  <!-- Movie selection dropdown -->
  <mat-form-field appearance="outline" class="movie-select">
    <mat-label>Choisir un film</mat-label>
    <mat-select [value]="selectedMovieId()" (selectionChange)="onSelectMovie($event.value)">
      <mat-option *ngFor="let movie of movies()" [value]="movie.movieId">
        {{ movie.title }}
      </mat-option>
    </mat-select>
  </mat-form-field>

  <!-- Bookings chart, only displayed if a movie is selected -->
  <div *ngIf="selectedMovieId()">
    <h3>Réservations sur 7 jours</h3>
    <ngx-charts-line-chart
      [view]="view"
      [results]="lineChartData()"
      [xAxis]="true"
      [yAxis]="true"
      [legend]="false"
      [showXAxisLabel]="true"
      [showYAxisLabel]="true"
      [xAxisLabel]="'Date'"
      [yAxisLabel]="'Réservations'"
      [autoScale]="true"
      [animations]="true"
      class="booking-chart">
    </ngx-charts-line-chart>
  </div>
</div>
